<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Traffic Light Game - Council of Comedy Edition</title>
    <meta name="description" content="The Ultimate Traffic Light Party Game - Comedy First, Powered by the Council of Comedy">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600;700;900&family=Orbitron:wght@400;500;700;900&family=Permanent+Marker&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
:root {
    --red: #FF3B3B;
    --red-dark: #CC0000;
    --amber: #FFB627;
    --amber-dark: #CC8800;
    --green: #00D26A;
    --green-dark: #009944;
    --pink: #FF00FF;
    --cyan: #00FFFF;
    --gold: #FFD700;
    --dark: #0a0a0f;
    --metal: #2a2a35;
    --metal-light: #3a3a45;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body, html {
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #0a0014 0%, #000 50%, #0a0a14 100%);
    color: #fff;
    min-height: 100vh;
    overflow-x: hidden;
}

/* HEADER */
.game-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(20px);
    z-index: 1000;
    border-bottom: 1px solid rgba(255, 0, 255, 0.3);
}

.game-logo {
    display: flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
}

.game-logo img {
    height: 35px;
    filter: drop-shadow(0 0 10px var(--pink));
}

.game-logo-text {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 18px;
    color: var(--pink);
    letter-spacing: 2px;
}

.header-btns {
    display: flex;
    gap: 10px;
}

.header-btn {
    background: transparent;
    border: 1px solid var(--pink);
    color: #fff;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
}

.header-btn:hover {
    background: var(--pink);
    color: #000;
}

/* MAIN CONTAINER */
.game-main {
    max-width: 500px;
    margin: 0 auto;
    padding: 80px 20px 40px;
    min-height: 100vh;
}

/* TITLE */
.game-title {
    text-align: center;
    margin-bottom: 30px;
}

.game-title h1 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2.5rem;
    letter-spacing: 4px;
    background: linear-gradient(90deg, var(--red), var(--amber), var(--green));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.game-title p {
    font-family: 'Permanent Marker', cursive;
    color: var(--gold);
    font-size: 14px;
    margin-top: 5px;
}

/* ===============================================
   ACTUAL TRAFFIC LIGHT DESIGN
   =============================================== */
.traffic-light-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 30px 0;
}

/* The pole */
.traffic-pole {
    width: 20px;
    height: 60px;
    background: linear-gradient(90deg, #444, #666, #444);
    border-radius: 5px;
}

/* The traffic light housing */
.traffic-light-box {
    width: 140px;
    background: linear-gradient(180deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
    border-radius: 20px;
    padding: 20px 15px;
    border: 4px solid #333;
    box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.8),
        inset 0 2px 10px rgba(255, 255, 255, 0.1),
        0 0 0 2px #222;
    position: relative;
}

/* Metal texture overlay */
.traffic-light-box::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255,255,255,0.03) 50%, 
        transparent 100%);
    border-radius: 16px;
    pointer-events: none;
}

/* Hood/visor for each light */
.light-housing {
    position: relative;
    margin: 12px 0;
}

.light-visor {
    position: absolute;
    top: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 90px;
    height: 20px;
    background: linear-gradient(180deg, #222, #111);
    border-radius: 50% 50% 0 0;
    z-index: 5;
}

/* The actual light buttons */
.traffic-light {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    margin: 0 auto;
    cursor: pointer;
    position: relative;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: 900;
    color: rgba(0, 0, 0, 0.5);
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: 'Orbitron', sans-serif;
}

/* Light OFF state */
.traffic-light.off {
    background: radial-gradient(circle at 30% 30%, #444, #222);
    box-shadow: inset 0 5px 15px rgba(0, 0, 0, 0.5);
}

/* Light ON states */
.traffic-light.red-on {
    background: radial-gradient(circle at 30% 30%, #ff6b6b, var(--red), var(--red-dark));
    box-shadow: 
        0 0 30px var(--red),
        0 0 60px var(--red),
        0 0 90px rgba(255, 59, 59, 0.5),
        inset 0 -5px 15px rgba(0, 0, 0, 0.3),
        inset 0 5px 15px rgba(255, 255, 255, 0.2);
    color: #fff;
    text-shadow: 0 0 10px #000;
    animation: glowPulse 2s ease-in-out infinite;
}

.traffic-light.amber-on {
    background: radial-gradient(circle at 30% 30%, #ffd54f, var(--amber), var(--amber-dark));
    box-shadow: 
        0 0 30px var(--amber),
        0 0 60px var(--amber),
        0 0 90px rgba(255, 182, 39, 0.5),
        inset 0 -5px 15px rgba(0, 0, 0, 0.3),
        inset 0 5px 15px rgba(255, 255, 255, 0.2);
    color: #000;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    animation: glowPulse 2s ease-in-out infinite;
}

.traffic-light.green-on {
    background: radial-gradient(circle at 30% 30%, #69f0ae, var(--green), var(--green-dark));
    box-shadow: 
        0 0 30px var(--green),
        0 0 60px var(--green),
        0 0 90px rgba(0, 210, 106, 0.5),
        inset 0 -5px 15px rgba(0, 0, 0, 0.3),
        inset 0 5px 15px rgba(255, 255, 255, 0.2);
    color: #fff;
    text-shadow: 0 0 10px #000;
    animation: glowPulse 2s ease-in-out infinite;
}

@keyframes glowPulse {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.2); }
}

.traffic-light:hover:not(.selected) {
    transform: scale(1.05);
}

.traffic-light.selected {
    transform: scale(1.1);
}

/* Light labels */
.light-label {
    text-align: center;
    margin-top: 5px;
    font-size: 10px;
    color: #666;
    letter-spacing: 2px;
    text-transform: uppercase;
}

/* ===============================================
   PLAYER PROFILE SECTION
   =============================================== */
.player-profile {
    background: rgba(20, 20, 30, 0.9);
    border: 2px solid var(--pink);
    border-radius: 20px;
    padding: 25px;
    margin: 30px 0;
    display: none;
}

.player-profile.show { display: block; }

.profile-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.profile-avatar {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    border: 3px solid var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
}

.profile-info h3 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.5rem;
    letter-spacing: 2px;
}

.profile-status {
    font-size: 12px;
    padding: 4px 12px;
    border-radius: 20px;
    display: inline-block;
    margin-top: 5px;
    font-weight: 700;
}

.profile-status.red { background: var(--red); color: #fff; }
.profile-status.amber { background: var(--amber); color: #000; }
.profile-status.green { background: var(--green); color: #fff; }

.profile-details {
    margin-top: 15px;
}

.profile-field {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 13px;
}

.profile-field label { color: #888; }
.profile-field span { color: #fff; font-weight: 600; }

/* ===============================================
   COUNCIL OF COMEDY SECTION
   =============================================== */
.coc-section {
    background: linear-gradient(135deg, rgba(157, 0, 255, 0.1), rgba(255, 0, 255, 0.05));
    border: 2px solid var(--gold);
    border-radius: 25px;
    padding: 25px;
    margin: 30px 0;
    display: none;
}

.coc-section.show { display: block; }

.coc-header {
    text-align: center;
    margin-bottom: 20px;
}

.coc-header h2 {
    font-family: 'Permanent Marker', cursive;
    font-size: 1.8rem;
    color: var(--gold);
    margin-bottom: 5px;
}

.coc-header p {
    font-size: 12px;
    color: #888;
}

/* Comedian avatars */
.coc-council {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
    flex-wrap: wrap;
}

.coc-member {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #222;
    border: 3px solid #444;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    transition: 0.3s;
    position: relative;
}

.coc-member:hover {
    transform: scale(1.1);
    border-color: var(--gold);
}

.coc-member.speaking {
    border-color: var(--gold);
    box-shadow: 0 0 20px var(--gold);
    animation: speakingPulse 1s ease-in-out infinite;
}

@keyframes speakingPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.coc-member-name {
    position: absolute;
    bottom: -20px;
    font-size: 8px;
    color: #888;
    white-space: nowrap;
}

/* Comedy debate chat */
.coc-debate {
    background: #111;
    border-radius: 15px;
    padding: 15px;
    max-height: 300px;
    overflow-y: auto;
    margin: 15px 0;
}

.coc-message {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
}

.coc-message-avatar {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    background: #333;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
}

.coc-message-content {
    flex: 1;
}

.coc-message-name {
    font-size: 11px;
    color: var(--gold);
    font-weight: 700;
    margin-bottom: 3px;
}

.coc-message-text {
    font-size: 13px;
    color: #ddd;
    line-height: 1.5;
    font-style: italic;
}

/* Pickup line result */
.coc-result {
    background: linear-gradient(135deg, var(--gold), #FFA500);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    margin: 15px 0;
}

.coc-result h4 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 14px;
    color: #000;
    letter-spacing: 2px;
    margin-bottom: 10px;
}

.coc-result .line {
    font-family: 'Permanent Marker', cursive;
    font-size: 18px;
    color: #000;
    margin-bottom: 15px;
}

.coc-result .instructions {
    font-size: 11px;
    color: rgba(0, 0, 0, 0.7);
    line-height: 1.6;
}

/* Generate button */
.coc-generate-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, var(--pink), var(--purple));
    border: none;
    border-radius: 30px;
    color: #fff;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 16px;
    letter-spacing: 3px;
    cursor: pointer;
    transition: 0.3s;
}

.coc-generate-btn:hover {
    transform: scale(1.02);
    box-shadow: 0 10px 30px rgba(255, 0, 255, 0.4);
}

.coc-generate-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* ===============================================
   CHASER MODE / HINT SYSTEM
   =============================================== */
.chaser-mode {
    background: rgba(0, 210, 106, 0.1);
    border: 2px solid var(--green);
    border-radius: 20px;
    padding: 25px;
    margin: 30px 0;
    display: none;
}

.chaser-mode.show { display: block; }

.chaser-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.chaser-header i {
    font-size: 2rem;
    color: var(--green);
}

.chaser-header h3 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.5rem;
    color: var(--green);
}

.chaser-target {
    background: #111;
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 20px;
}

.target-label {
    font-size: 10px;
    color: var(--gold);
    letter-spacing: 2px;
    margin-bottom: 10px;
}

.target-info {
    display: flex;
    align-items: center;
    gap: 15px;
}

.target-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--green), #00a050);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
}

.target-details h4 {
    font-size: 16px;
    margin-bottom: 5px;
}

.target-details p {
    font-size: 12px;
    color: #888;
}

.target-hint {
    background: rgba(255, 215, 0, 0.1);
    border-left: 4px solid var(--gold);
    padding: 15px;
    margin-top: 15px;
    border-radius: 0 10px 10px 0;
}

.target-hint h5 {
    font-size: 11px;
    color: var(--gold);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.target-hint p {
    font-size: 13px;
    color: #ddd;
    font-style: italic;
}

/* ===============================================
   RATING SYSTEM
   =============================================== */
.rating-section {
    background: rgba(255, 0, 255, 0.1);
    border: 2px solid var(--pink);
    border-radius: 20px;
    padding: 25px;
    margin: 30px 0;
    text-align: center;
    display: none;
}

.rating-section.show { display: block; }

.rating-header h3 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.5rem;
    color: var(--pink);
    margin-bottom: 5px;
}

.rating-header p {
    font-size: 12px;
    color: #888;
    margin-bottom: 20px;
}

.rating-stars {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
}

.rating-star {
    font-size: 2.5rem;
    color: #333;
    cursor: pointer;
    transition: 0.2s;
}

.rating-star:hover,
.rating-star.active {
    color: var(--gold);
    transform: scale(1.2);
}

.rating-labels {
    display: flex;
    justify-content: space-between;
    font-size: 10px;
    color: #666;
    margin-bottom: 20px;
}

.stream-btn {
    background: linear-gradient(135deg, #FF0000, #CC0000);
    border: none;
    padding: 15px 30px;
    border-radius: 30px;
    color: #fff;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 14px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin: 0 auto;
}

.stream-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(255, 0, 0, 0.4);
}

.stream-btn i {
    animation: livePulse 1s infinite;
}

@keyframes livePulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ===============================================
   GAME MODE SELECTOR
   =============================================== */
.mode-selector {
    display: flex;
    gap: 10px;
    margin: 20px 0;
    justify-content: center;
}

.mode-btn {
    padding: 10px 20px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 25px;
    color: #fff;
    font-size: 11px;
    font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
}

.mode-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

.mode-btn.active {
    background: var(--pink);
    border-color: var(--pink);
    color: #fff;
}

/* ===============================================
   FOOTER
   =============================================== */
.game-footer {
    text-align: center;
    padding: 30px 20px;
    color: #444;
    font-size: 11px;
}

.game-footer a {
    color: var(--pink);
    text-decoration: none;
}

/* ===============================================
   RESPONSIVE
   =============================================== */
@media (max-width: 500px) {
    .traffic-light-box { width: 120px; padding: 15px 12px; }
    .traffic-light { width: 85px; height: 85px; font-size: 12px; }
    .light-visor { width: 75px; height: 15px; }
    .coc-member { width: 50px; height: 50px; font-size: 20px; }
    .game-title h1 { font-size: 2rem; }
}
    </style>
</head>
<body>

<!-- HEADER -->
<header class="game-header">
    <a href="https://flavorsdaiquiribar.com/" class="game-logo">
        <img src="https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/69301b7d0b0f9de1d1588a77.jpg" alt="Flavors">
        <span class="game-logo-text">GAMING</span>
    </a>
    <div class="header-btns">
        <button class="header-btn" onclick="openRules()"><i class="fas fa-question"></i> Rules</button>
        <button class="header-btn" onclick="resetGame()"><i class="fas fa-redo"></i> Reset</button>
    </div>
</header>

<!-- MAIN GAME -->
<main class="game-main">
    
    <!-- TITLE -->
    <div class="game-title">
        <h1>TRAFFIC LIGHT GAME</h1>
        <p>Comedy First Edition - Powered by the Council</p>
    </div>

    <!-- MODE SELECTOR -->
    <div class="mode-selector">
        <button class="mode-btn active" onclick="setMode('player')"><i class="fas fa-user"></i> Player</button>
        <button class="mode-btn" onclick="setMode('chaser')"><i class="fas fa-heart"></i> Chaser</button>
        <button class="mode-btn" onclick="setMode('spectator')"><i class="fas fa-eye"></i> Spectator</button>
    </div>

    <!-- ACTUAL TRAFFIC LIGHT -->
    <div class="traffic-light-container">
        <div class="traffic-light-box">
            <!-- RED LIGHT -->
            <div class="light-housing">
                <div class="light-visor"></div>
                <div class="traffic-light off" id="redLight" onclick="selectLight('red')">
                    TAKEN
                </div>
                <div class="light-label">In a relationship</div>
            </div>
            
            <!-- AMBER LIGHT -->
            <div class="light-housing">
                <div class="light-visor"></div>
                <div class="traffic-light off" id="amberLight" onclick="selectLight('amber')">
                    MAYBE
                </div>
                <div class="light-label">It's complicated</div>
            </div>
            
            <!-- GREEN LIGHT -->
            <div class="light-housing">
                <div class="light-visor"></div>
                <div class="traffic-light off" id="greenLight" onclick="selectLight('green')">
                    SINGLE
                </div>
                <div class="light-label">Ready to mingle</div>
            </div>
        </div>
        <div class="traffic-pole"></div>
    </div>

    <!-- PLAYER PROFILE (shown after selection) -->
    <div class="player-profile" id="playerProfile">
        <div class="profile-header">
            <div class="profile-avatar" id="profileAvatar">??</div>
            <div class="profile-info">
                <h3 id="profileName">Anonymous Player</h3>
                <span class="profile-status" id="profileStatus">SELECTING...</span>
            </div>
        </div>
        <div class="profile-details">
            <div class="profile-field">
                <label>Vibe:</label>
                <span id="profileVibe">Loading...</span>
            </div>
            <div class="profile-field">
                <label>Looking for:</label>
                <span id="profileLooking">Loading...</span>
            </div>
            <div class="profile-field">
                <label>Fun fact:</label>
                <span id="profileFact">Loading...</span>
            </div>
        </div>
    </div>

    <!-- COUNCIL OF COMEDY -->
    <div class="coc-section" id="cocSection">
        <div class="coc-header">
            <h2>?? COUNCIL OF COMEDY</h2>
            <p>The legends are debating your best approach...</p>
        </div>
        
        <!-- Council Members -->
        <div class="coc-council">
            <div class="coc-member" id="cocRogan" title="Joe Rogan">
                ???
                <span class="coc-member-name">Rogan</span>
            </div>
            <div class="coc-member" id="cocChappelle" title="Dave Chappelle">
                ??
                <span class="coc-member-name">Dave</span>
            </div>
            <div class="coc-member" id="cocBurr" title="Bill Burr">
                ??
                <span class="coc-member-name">Burr</span>
            </div>
            <div class="coc-member" id="cocTheo" title="Theo Von">
                ??
                <span class="coc-member-name">Theo</span>
            </div>
            <div class="coc-member" id="cocSegura" title="Tom Segura">
                ??
                <span class="coc-member-name">Tom</span>
            </div>
        </div>

        <!-- Debate Chat -->
        <div class="coc-debate" id="cocDebate">
            <div class="coc-message">
                <div class="coc-message-avatar">???</div>
                <div class="coc-message-content">
                    <div class="coc-message-name">JOE ROGAN</div>
                    <div class="coc-message-text">"It's entirely possible that a well-timed joke is the best approach. Have you tried DMT? No wait, have you tried... just being yourself? That's wild."</div>
                </div>
            </div>
        </div>

        <!-- Generate Button -->
        <button class="coc-generate-btn" id="cocGenerateBtn" onclick="generatePickupLine()">
            <i class="fas fa-magic"></i> SUMMON THE COUNCIL
        </button>

        <!-- Result -->
        <div class="coc-result" id="cocResult" style="display:none">
            <h4>THE COUNCIL HAS SPOKEN</h4>
            <div class="line" id="pickupLine">"Loading legendary line..."</div>
            <div class="instructions" id="pickupInstructions">Loading delivery instructions...</div>
        </div>
    </div>

    <!-- CHASER MODE -->
    <div class="chaser-mode" id="chaserMode">
        <div class="chaser-header">
            <i class="fas fa-crosshairs"></i>
            <h3>CHASER MODE ACTIVATED</h3>
        </div>
        
        <div class="chaser-target">
            <div class="target-label"><i class="fas fa-bullseye"></i> YOUR TARGET</div>
            <div class="target-info">
                <div class="target-avatar" id="targetAvatar">??</div>
                <div class="target-details">
                    <h4 id="targetName">Scanning...</h4>
                    <p id="targetStatus">Looking for GREEN lights nearby</p>
                </div>
            </div>
            
            <div class="target-hint">
                <h5><i class="fas fa-lightbulb"></i> COMEDY HINT</h5>
                <p id="targetHint">The Council is preparing your approach strategy...</p>
            </div>
        </div>

        <button class="coc-generate-btn" onclick="getNewHint()">
            <i class="fas fa-dice"></i> GET NEW HINT
        </button>
    </div>

    <!-- RATING SECTION -->
    <div class="rating-section" id="ratingSection">
        <div class="rating-header">
            <h3>? RATE THE ATTEMPT</h3>
            <p>How smooth was that approach?</p>
        </div>
        
        <div class="rating-stars">
            <span class="rating-star" onclick="setRating(1)">?</span>
            <span class="rating-star" onclick="setRating(2)">?</span>
            <span class="rating-star" onclick="setRating(3)">?</span>
            <span class="rating-star" onclick="setRating(4)">?</span>
            <span class="rating-star" onclick="setRating(5)">?</span>
        </div>
        
        <div class="rating-labels">
            <span>?? Crashed & Burned</span>
            <span>?? Legendary</span>
        </div>

        <button class="stream-btn" onclick="goLive()">
            <i class="fas fa-circle"></i> GO LIVE - BRAVE MODE
        </button>
    </div>

</main>

<!-- FOOTER -->
<footer class="game-footer">
    <p>Traffic Light Game &bull; Comedy First Edition</p>
    <p>Powered by <a href="https://exposuresolutions.ie">Exposure AI</a> & The Council of Comedy</p>
</footer>

<script>
// ===============================================
// COUNCIL OF COMEDY - PERSONALITY DATABASE
// ===============================================
const council = {
    rogan: {
        name: 'JOE ROGAN',
        emoji: '???',
        style: 'curious, enthusiastic, mind-blown',
        phrases: [
            "It's entirely possible that",
            "Have you ever considered",
            "That's WILD man",
            "Jamie, pull that up",
            "This is like a chimp at a zoo"
        ],
        pickupAdvice: [
            "Walk up with CONFIDENCE. You're a apex predator in this bar. Not in a creepy way, in a... primal way.",
            "Start with something genuine. Maybe talk about how wild it is that we're all just conscious beings in a bar right now.",
            "Make eye contact like you're about to have a 3-hour conversation about the universe."
        ]
    },
    chappelle: {
        name: 'DAVE CHAPPELLE',
        emoji: '??',
        style: 'observational, smooth, storytelling',
        phrases: [
            "I'm gonna tell you something",
            "Modern problems require modern solutions",
            "Because I'm Rick James",
            "Gotcha b****"
        ],
        pickupAdvice: [
            "Don't be thirsty. Be like water - cool, refreshing, necessary for life.",
            "Tell a story. Everyone loves a good story. Make yourself the interesting character.",
            "Timing is everything. Wait for the right moment, then strike with the smoothness."
        ]
    },
    burr: {
        name: 'BILL BURR',
        emoji: '??',
        style: 'ranty, honest, self-deprecating',
        phrases: [
            "OH JEEZUS",
            "Fair enough",
            "I'm just saying",
            "What are you, a psychopath?"
        ],
        pickupAdvice: [
            "Just be honest! 'Hey, I think you're attractive and I wanted to talk to you.' What's wrong with that?!",
            "Don't overthink it. You're gonna die someday anyway, might as well shoot your shot.",
            "If she's not into it, who cares? There's like 4 billion women on the planet!"
        ]
    },
    theo: {
        name: 'THEO VON',
        emoji: '??',
        style: 'southern, absurd, wholesome chaos',
        phrases: [
            "Gang gang",
            "That's dark arts, bruh",
            "Bless up",
            "Get that hitter"
        ],
        pickupAdvice: [
            "Gang gang! Just be real weird but in a charming way. Talk about your pet rat growing up or something.",
            "Use a nickname immediately. 'Hey there, Sunshine' - people love nicknames, bruh.",
            "Tell her about the time you got stuck in a drainage pipe. Vulnerability is attractive."
        ]
    },
    segura: {
        name: 'TOM SEGURA',
        emoji: '??',
        style: 'deadpan, dark, matter-of-fact',
        phrases: [
            "Bikes!",
            "Try it out",
            "Home here now",
            "Keep 'em high and tight"
        ],
        pickupAdvice: [
            "Just be straightforward. 'You seem cool. Want to get a drink?' Simple. Effective.",
            "Don't do too much. The harder you try, the worse it gets. Just... be normal.",
            "If it doesn't work, just say 'I understand' and walk away with dignity."
        ]
    }
};

// ===============================================
// PICKUP LINES DATABASE (Comedy Approved)
// ===============================================
const pickupLines = {
    wholesome: [
        { line: "Are you a magician? Because whenever I look at you, everyone else disappears.", delivery: "Say it with genuine wonder, like you just discovered magic is real." },
        { line: "I must be a snowflake, because I've fallen for you.", delivery: "Use this in winter. Or just say it ironically in summer and own the cringe." },
        { line: "Do you have a map? I just got lost in your eyes.", delivery: "Point to your own eyes confused, then to theirs. Commit to the bit." }
    ],
    comedy: [
        { line: "Are you WiFi? Because I'm feeling a connection... wait, it dropped. Can you move closer?", delivery: "Pretend to check your phone signal. Method acting is key." },
        { line: "I'm not a photographer, but I can picture us together... at separate tables... eating our own food... in silence. Relationships are hard.", delivery: "Trail off existentially. It's relatable." },
        { line: "Do you believe in love at first sight, or should I walk by again... and again... until security asks me to leave?", delivery: "Actually start walking away slowly after saying it." }
    ],
    confident: [
        { line: "I'm not saying I'm Batman, but have you ever seen me and Batman in the same room?", delivery: "Look around suspiciously. Leave mysteriously if she asks questions." },
        { line: "I'd offer you my jacket, but I just realized I look really good in it.", delivery: "Flexing optional but encouraged." },
        { line: "I'm writing a book. It's a phone book, and it's missing your number.", delivery: "Pull out an actual phone book if possible. Power move." }
    ],
    absurd: [
        { line: "Are you a parking ticket? Because you've got 'fine' written all over you... and I want to contest you in court.", delivery: "Theo Von energy. Just commit to the weirdness." },
        { line: "If you were a vegetable, you'd be a cute-cumber. Actually, let's workshop this one.", delivery: "Actively think of better options mid-conversation." },
        { line: "I'm not drunk, I'm just intoxicated by you. Also I'm a little drunk.", delivery: "Honesty is the best policy. Bill Burr approved." }
    ]
};

// ===============================================
// GAME STATE
// ===============================================
let currentMode = 'player';
let selectedLight = null;
let currentRating = 0;

// ===============================================
// MODE SWITCHING
// ===============================================
function setMode(mode) {
    currentMode = mode;
    
    // Update mode buttons
    document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    
    // Hide all mode-specific sections
    document.getElementById('playerProfile').classList.remove('show');
    document.getElementById('cocSection').classList.remove('show');
    document.getElementById('chaserMode').classList.remove('show');
    document.getElementById('ratingSection').classList.remove('show');
    
    // Show relevant sections based on mode
    if (mode === 'chaser' && selectedLight) {
        document.getElementById('chaserMode').classList.add('show');
        document.getElementById('cocSection').classList.add('show');
    }
    
    if (mode === 'spectator') {
        document.getElementById('ratingSection').classList.add('show');
    }
}

// ===============================================
// TRAFFIC LIGHT SELECTION
// ===============================================
function selectLight(color) {
    // Reset all lights
    document.getElementById('redLight').className = 'traffic-light off';
    document.getElementById('amberLight').className = 'traffic-light off';
    document.getElementById('greenLight').className = 'traffic-light off';
    
    // Turn on selected light
    document.getElementById(color + 'Light').className = 'traffic-light ' + color + '-on selected';
    selectedLight = color;
    
    // Show profile
    showProfile(color);
    
    // Show CoC section for green lights
    if (color === 'green') {
        document.getElementById('cocSection').classList.add('show');
        startCouncilDebate();
    } else {
        document.getElementById('cocSection').classList.remove('show');
    }
    
    // Update chaser mode if active
    if (currentMode === 'chaser') {
        document.getElementById('chaserMode').classList.add('show');
    }
}

// ===============================================
// PROFILE SYSTEM
// ===============================================
function showProfile(color) {
    const profiles = {
        red: {
            avatar: '??',
            name: 'Taken & Loving It',
            status: 'TAKEN',
            vibe: 'Here with my person',
            looking: 'Good times with my partner',
            fact: 'We met at a bar like this!'
        },
        amber: {
            avatar: '??',
            name: 'The Wildcard',
            status: 'IT\'S COMPLICATED',
            vibe: 'Going with the flow',
            looking: 'See what happens',
            fact: 'Ask me after a few drinks'
        },
        green: {
            avatar: '??',
            name: 'Single & Ready',
            status: 'SINGLE',
            vibe: 'Main character energy',
            looking: 'Someone to make laugh',
            fact: 'I do a great dinosaur impression'
        }
    };
    
    const profile = profiles[color];
    document.getElementById('profileAvatar').textContent = profile.avatar;
    document.getElementById('profileName').textContent = profile.name;
    document.getElementById('profileStatus').textContent = profile.status;
    document.getElementById('profileStatus').className = 'profile-status ' + color;
    document.getElementById('profileVibe').textContent = profile.vibe;
    document.getElementById('profileLooking').textContent = profile.looking;
    document.getElementById('profileFact').textContent = profile.fact;
    
    document.getElementById('playerProfile').classList.add('show');
}

// ===============================================
// COUNCIL OF COMEDY DEBATE
// ===============================================
function startCouncilDebate() {
    const debate = document.getElementById('cocDebate');
    debate.innerHTML = '';
    
    // Initial messages
    const messages = [
        { member: 'rogan', text: "Okay okay okay, so you're GREEN. That's wild. You know what's also green? DMT. I'm kidding, but seriously, confidence is key here." },
        { member: 'burr', text: "What situation?! Just say something! 'Hi, you seem nice.' Done! Why do we complicate everything?!" },
        { member: 'theo', text: "Nah bruh, you gotta stand out. My cousin used to catch crawfish with his bare hands. Say something memorable like that." },
        { member: 'chappelle', text: "The key is to say something that makes HER want to talk to YOU. Flip the script." },
        { member: 'segura', text: "I've got it. Simple, direct, with just enough weird energy to be interesting." }
    ];
    
    // Add messages with delay
    messages.forEach((msg, index) => {
        setTimeout(() => {
            addCouncilMessage(msg.member, msg.text);
            
            // Highlight speaking member
            document.querySelectorAll('.coc-member').forEach(m => m.classList.remove('speaking'));
            document.getElementById('coc' + msg.member.charAt(0).toUpperCase() + msg.member.slice(1)).classList.add('speaking');
        }, index * 2000);
    });
}

function addCouncilMessage(member, text) {
    const debate = document.getElementById('cocDebate');
    const memberData = council[member];
    
    const messageHtml = `
        <div class="coc-message">
            <div class="coc-message-avatar">${memberData.emoji}</div>
            <div class="coc-message-content">
                <div class="coc-message-name">${memberData.name}</div>
                <div class="coc-message-text">"${text}"</div>
            </div>
        </div>
    `;
    
    debate.insertAdjacentHTML('beforeend', messageHtml);
    debate.scrollTop = debate.scrollHeight;
}

// ===============================================
// PICKUP LINE GENERATOR
// ===============================================
function generatePickupLine() {
    const btn = document.getElementById('cocGenerateBtn');
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> COUNCIL DELIBERATING...';
    
    // Clear previous debate
    const debate = document.getElementById('cocDebate');
    debate.innerHTML = '';
    
    // Council debates the line
    const debateMessages = [
        { member: 'rogan', text: "Alright, let's workshop this. What's the situation? Bar? Club? How's the lighting?" },
        { member: 'burr', text: "What situation?! Just say something! 'Hi, you seem nice.' Done! Why do we complicate everything?!" },
        { member: 'theo', text: "Nah bruh, you gotta stand out. My cousin used to catch crawfish with his bare hands. Say something memorable like that." },
        { member: 'chappelle', text: "The key is to say something that makes HER want to talk to YOU. Flip the script." },
        { member: 'segura', text: "I've got it. Simple, direct, with just enough weird energy to be interesting." }
    ];
    
    debateMessages.forEach((msg, index) => {
        setTimeout(() => {
            addCouncilMessage(msg.member, msg.text);
            document.querySelectorAll('.coc-member').forEach(m => m.classList.remove('speaking'));
            document.getElementById('coc' + msg.member.charAt(0).toUpperCase() + msg.member.slice(1)).classList.add('speaking');
        }, index * 1500);
    });
    
    // Show final result
    setTimeout(() => {
        const categories = Object.keys(pickupLines);
        const category = categories[Math.floor(Math.random() * categories.length)];
        const lines = pickupLines[category];
        const selected = lines[Math.floor(Math.random() * lines.length)];
        
        // Random council member gives delivery advice
        const members = Object.keys(council);
        const advisor = council[members[Math.floor(Math.random() * members.length)]];
        const advice = advisor.pickupAdvice[Math.floor(Math.random() * advisor.pickupAdvice.length)];
        
        document.getElementById('pickupLine').textContent = '"' + selected.line + '"';
        document.getElementById('pickupInstructions').innerHTML = 
            '<strong>' + advisor.name + '\'s delivery tip:</strong> ' + advice + 
            '<br><br><em>Original delivery note: ' + selected.delivery + '</em>';
        
        document.getElementById('cocResult').style.display = 'block';
        
        // Add final council message
        addCouncilMessage(members[Math.floor(Math.random() * members.length)], "THE COUNCIL HAS SPOKEN. Now go forth and don't embarrass us.");
        
        btn.disabled = false;
        btn.innerHTML = '<i class="fas fa-magic"></i> SUMMON AGAIN';
    }, debateMessages.length * 1500 + 1000);
}

// ===============================================
// CHASER HINTS
// ===============================================
const chaserHints = [
    { hint: "She laughed at her friend's joke. Timing opportunity: Jump in with 'Okay but what did the friend say?' and join the conversation naturally.", avatar: "??" },
    { hint: "She's checking her phone. Power move: Wait till she puts it down, then say 'Anything good?' about what she was looking at.", avatar: "??" },
    { hint: "She's at the bar ordering. Classic approach: Offer to guess her drink order. If you're wrong, buy her what she actually wanted.", avatar: "??" },
    { hint: "Eye contact made! She held it for 2+ seconds. That's basically a wedding invitation. Go say hi.", avatar: "??" },
    { hint: "She's dancing. Do NOT try to dance behind her. Walk up, make eye contact, smile, and invite her to get a drink.", avatar: "??" },
    { hint: "She's with a group. Talk to the whole group first. Be funny. Then naturally shift focus.", avatar: "??" }
];

function getNewHint() {
    const hint = chaserHints[Math.floor(Math.random() * chaserHints.length)];
    document.getElementById('targetAvatar').textContent = hint.avatar;
    document.getElementById('targetHint').textContent = hint.hint;
    
    // Random name
    const names = ['Emma', 'Sophie', 'Mia', 'Charlotte', 'Amelia', 'Olivia', 'Lily', 'Grace'];
    document.getElementById('targetName').textContent = names[Math.floor(Math.random() * names.length)];
    document.getElementById('targetStatus').textContent = '?? GREEN LIGHT - Open to chat';
}

// ===============================================
// RATING SYSTEM
// ===============================================
function setRating(rating) {
    currentRating = rating;
    document.querySelectorAll('.rating-star').forEach((star, index) => {
        star.classList.toggle('active', index < rating);
    });
}

function goLive() {
    alert('?? BRAVE MODE ACTIVATED!\n\nYou\'re about to go live.\n\nRemember:\n- Keep it fun and respectful\n- Comedy first!\n- If she\'s not into it, gracefully exit\n\nThe Council believes in you! ??');
    // In a real implementation, this would connect to streaming
}

// ===============================================
// UTILITY FUNCTIONS
// ===============================================
function resetGame() {
    selectedLight = null;
    document.querySelectorAll('.traffic-light').forEach(light => {
        light.className = 'traffic-light off';
    });
    document.getElementById('playerProfile').classList.remove('show');
    document.getElementById('cocSection').classList.remove('show');
    document.getElementById('chaserMode').classList.remove('show');
    document.getElementById('cocResult').style.display = 'none';
}

function openRules() {
    alert('?? TRAFFIC LIGHT GAME RULES\n\n?? RED = TAKEN\nYou\'re in a relationship. Respect the status!\n\n?? AMBER = MAYBE\nIt\'s complicated. Proceed with curiosity.\n\n?? GREEN = SINGLE\nReady to mingle! Open for approaches.\n\n?? COUNCIL OF COMEDY\nOur AI comedians will help you craft the perfect approach. Comedy first - everything is meant in good fun!\n\n? BRAVE MODE\nRate attempts and go live for extra glory!');
}

// Initialize on load
document.addEventListener('DOMContentLoaded', () => {
    getNewHint();
});
</script>

</body>
</html>
