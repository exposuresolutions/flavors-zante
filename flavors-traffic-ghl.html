<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flavors Gaming - Traffic Light Party</title>
    <meta name="description" content="Flavors Gaming - The Ultimate Traffic Light Party Experience in Zante">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600;700;900&family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
:root {
    --red: #FF3B3B;
    --red-glow: rgba(255, 59, 59, 0.4);
    --amber: #FFB627;
    --amber-glow: rgba(255, 182, 39, 0.4);
    --green: #00D26A;
    --green-glow: rgba(0, 210, 106, 0.4);
    --pink: #FF00FF;
    --cyan: #00FFFF;
    --gold: #FFD700;
    --purple: #9D00FF;
    --dark: #0a0a0f;
    --card-bg: rgba(15, 15, 25, 0.9);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html, body {
    font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif;
    background: var(--dark);
    color: #fff;
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
}

/* DYNAMIC BACKGROUND WITH GLAZE */
.game-bg {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #0a0014 0%, #000 50%, #140a0a 100%);
    z-index: 0;
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.game-bg.glaze-red {
    background: linear-gradient(135deg, rgba(255,59,59,0.25) 0%, #1a0505 40%, rgba(255,59,59,0.15) 100%);
}

.game-bg.glaze-amber {
    background: linear-gradient(135deg, rgba(255,182,39,0.25) 0%, #1a1200 40%, rgba(255,182,39,0.15) 100%);
}

.game-bg.glaze-green {
    background: linear-gradient(135deg, rgba(0,210,106,0.25) 0%, #051a0a 40%, rgba(0,210,106,0.15) 100%);
}

/* ANIMATED PARTICLES */
.particles {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
}

.particle {
    position: absolute;
    width: 3px;
    height: 3px;
    background: var(--pink);
    border-radius: 50%;
    opacity: 0;
    animation: floatUp 15s infinite;
}

@keyframes floatUp {
    0% { transform: translateY(100vh) scale(0); opacity: 0; }
    10% { opacity: 0.8; }
    90% { opacity: 0.8; }
    100% { transform: translateY(-100vh) scale(1); opacity: 0; }
}

/* HEADER */
.game-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 55px;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(20px);
    z-index: 1000;
    border-bottom: 1px solid rgba(255, 0, 255, 0.3);
}

.game-logo {
    display: flex;
    align-items: center;
    text-decoration: none;
    gap: 10px;
}

.game-logo img {
    height: 28px;
    width: auto;
    filter: drop-shadow(0 0 10px var(--pink));
}

.game-logo-text {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 16px;
    color: var(--pink);
    letter-spacing: 2px;
    display: none;
}

@media (min-width: 500px) {
    .game-logo-text { display: block; }
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 10px;
}

.header-btn {
    background: transparent;
    border: 1px solid var(--pink);
    color: #fff;
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.3s;
    font-family: 'Montserrat', sans-serif;
}

.header-btn:hover {
    background: var(--pink);
    color: #000;
    box-shadow: 0 0 20px var(--pink);
}

.header-btn i {
    margin-right: 5px;
}

.back-link {
    color: #888;
    text-decoration: none;
    font-size: 12px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 5px;
    transition: 0.3s;
}

.back-link:hover { color: var(--pink); }

/* MAIN CONTENT */
.game-main {
    position: relative;
    z-index: 1;
    max-width: 800px;
    margin: 0 auto;
    padding: 70px 20px 40px;
    min-height: 100vh;
}

/* HERO */
.game-hero {
    text-align: center;
    padding: 40px 0 30px;
}

.game-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(2.5rem, 8vw, 4.5rem);
    letter-spacing: 4px;
    line-height: 1;
    margin-bottom: 15px;
    background: linear-gradient(90deg, var(--red), var(--amber), var(--green), var(--cyan), var(--pink));
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientShift 4s linear infinite;
}

@keyframes gradientShift {
    0% { background-position: 0% center; }
    100% { background-position: 200% center; }
}

.game-subtitle {
    font-family: 'Orbitron', sans-serif;
    font-size: 13px;
    letter-spacing: 3px;
    color: var(--cyan);
    text-shadow: 0 0 20px var(--cyan);
}

/* LIVE STATS BAR */
.live-stats-bar {
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 15px;
    padding: 15px 20px;
    margin: 20px 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 15px;
    flex-wrap: wrap;
}

.stats-label {
    font-family: 'Orbitron', sans-serif;
    font-size: 10px;
    letter-spacing: 2px;
    color: var(--gold);
    display: flex;
    align-items: center;
    gap: 8px;
}

.stats-label i {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.stats-display {
    display: flex;
    gap: 20px;
}

.stat-item {
    text-align: center;
}

.stat-value {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 24px;
}

.stat-value.red { color: var(--red); }
.stat-value.amber { color: var(--amber); }
.stat-value.green { color: var(--green); }

.stat-label {
    font-size: 9px;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* GAME STEPS */
.game-steps {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin: 30px 0;
}

@media (max-width: 600px) {
    .game-steps { grid-template-columns: repeat(2, 1fr); }
}

.step-card {
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 255, 0.2);
    border-radius: 15px;
    padding: 20px 15px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
}

.step-card:hover {
    border-color: var(--pink);
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(255, 0, 255, 0.2);
}

.step-icon {
    width: 50px;
    height: 50px;
    margin: 0 auto 12px;
    background: linear-gradient(135deg, var(--pink), var(--purple));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: #fff;
}

.step-number {
    font-family: 'Orbitron', sans-serif;
    font-size: 11px;
    color: var(--cyan);
    margin-bottom: 5px;
}

.step-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 14px;
    letter-spacing: 1px;
    margin-bottom: 5px;
}

.step-desc {
    font-size: 10px;
    color: #888;
}

/* TRAFFIC LIGHTS GAME */
.game-lights-section {
    background: linear-gradient(135deg, rgba(20, 0, 40, 0.8), rgba(0, 0, 0, 0.9));
    border: 2px solid rgba(255, 0, 255, 0.4);
    border-radius: 30px;
    padding: 40px 30px;
    margin: 30px 0;
    text-align: center;
}

.lights-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 12px;
    letter-spacing: 3px;
    color: var(--gold);
    margin-bottom: 30px;
}

.lights-title i {
    margin-right: 8px;
}

.traffic-lights {
    display: flex;
    justify-content: center;
    gap: 25px;
    flex-wrap: wrap;
}

.light-btn {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    color: rgba(0, 0, 0, 0.8);
}

.light-btn::before {
    content: '';
    position: absolute;
    inset: 8px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5), transparent 60%);
    pointer-events: none;
}

.light-btn::after {
    content: '';
    position: absolute;
    inset: -5px;
    border-radius: 50%;
    border: 2px solid transparent;
    transition: all 0.3s;
}

.light-red {
    background: linear-gradient(145deg, #ff6b6b, var(--red));
    box-shadow: 0 0 40px var(--red-glow), inset 0 -5px 20px rgba(0,0,0,0.3);
}

.light-amber {
    background: linear-gradient(145deg, #ffd54f, var(--amber));
    box-shadow: 0 0 40px var(--amber-glow), inset 0 -5px 20px rgba(0,0,0,0.3);
}

.light-green {
    background: linear-gradient(145deg, #69f0ae, var(--green));
    box-shadow: 0 0 40px var(--green-glow), inset 0 -5px 20px rgba(0,0,0,0.3);
}

.light-btn:hover:not(.disabled) {
    transform: scale(1.15);
    filter: brightness(1.2);
}

.light-red:hover:not(.disabled) {
    box-shadow: 0 0 80px var(--red), 0 0 120px var(--red-glow);
}

.light-amber:hover:not(.disabled) {
    box-shadow: 0 0 80px var(--amber), 0 0 120px var(--amber-glow);
}

.light-green:hover:not(.disabled) {
    box-shadow: 0 0 80px var(--green), 0 0 120px var(--green-glow);
}

.light-btn.active {
    transform: scale(1.2);
    animation: lightPulse 1.5s ease-in-out infinite;
}

.light-btn.active::after {
    border-color: #fff;
    inset: -8px;
}

@keyframes lightPulse {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.3); }
}

.light-btn.disabled {
    opacity: 0.2;
    transform: scale(0.8);
    cursor: not-allowed;
    filter: grayscale(0.5);
}

.light-label {
    display: block;
    margin-top: 12px;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 14px;
    letter-spacing: 2px;
    color: #fff;
    opacity: 0.7;
}

/* COOLDOWN TIMER */
.cooldown-notice {
    margin-top: 20px;
    padding: 12px 20px;
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid var(--red);
    border-radius: 10px;
    font-size: 12px;
    color: var(--red);
    display: none;
}

.cooldown-notice.show { display: block; }

/* RESULT CARD */
.result-card {
    background: var(--card-bg);
    border: 2px solid rgba(255, 0, 255, 0.4);
    border-radius: 25px;
    padding: 35px;
    margin: 30px 0;
    text-align: center;
    display: none;
    animation: slideUp 0.5s ease-out;
}

.result-card.show { display: block; }

@keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

.result-status {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(2rem, 6vw, 3rem);
    letter-spacing: 3px;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
}

.result-status i {
    font-size: 0.8em;
}

.result-image {
    width: 100%;
    max-width: 280px;
    height: 200px;
    object-fit: cover;
    border-radius: 15px;
    margin: 20px auto;
    border: 2px solid rgba(255, 255, 255, 0.1);
}

.result-desc {
    font-size: 14px;
    color: #ccc;
    line-height: 1.7;
    margin-bottom: 20px;
}

/* MISSION BOX */
.mission-box {
    background: rgba(0, 0, 0, 0.5);
    border-left: 4px solid var(--gold);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    text-align: left;
}

.mission-label {
    font-family: 'Orbitron', sans-serif;
    font-size: 10px;
    letter-spacing: 2px;
    color: var(--gold);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.mission-text {
    font-size: 14px;
    font-weight: 600;
    color: #fff;
}

/* DEAL BADGE */
.deal-badge {
    display: inline-block;
    background: linear-gradient(135deg, var(--gold), #FFA500);
    color: #000;
    padding: 15px 30px;
    border-radius: 30px;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 16px;
    letter-spacing: 2px;
    margin: 15px 0;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
    animation: dealPulse 2s ease-in-out infinite;
}

@keyframes dealPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); box-shadow: 0 0 50px rgba(255, 215, 0, 0.6); }
}

/* ACTION BUTTONS */
.action-buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 20px;
}

.action-btn {
    width: 100%;
    padding: 16px 30px;
    border-radius: 30px;
    border: none;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 14px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    text-decoration: none;
}

.btn-primary {
    background: linear-gradient(135deg, #fff, #f0f0f0);
    color: #000;
}

.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
}

.btn-whatsapp {
    background: linear-gradient(135deg, #25D366, #128C7E);
    color: #fff;
}

.btn-whatsapp:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4);
}

.btn-reset {
    background: transparent;
    border: 2px solid var(--pink);
    color: #fff;
}

.btn-reset:hover {
    background: var(--pink);
    color: #000;
}

/* SCREEN GLOW (Phone as beacon) */
.screen-glow {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 2000;
    cursor: pointer;
    animation: glowPulse 2s ease-in-out infinite;
}

.screen-glow.show { display: flex; }

.screen-glow.glow-red { background: var(--red); }
.screen-glow.glow-amber { background: var(--amber); }
.screen-glow.glow-green { background: var(--green); }

@keyframes glowPulse {
    0%, 100% { opacity: 0.9; }
    50% { opacity: 1; }
}

.glow-content {
    margin: auto;
    text-align: center;
    color: #000;
    padding: 20px;
}

.glow-status {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 4rem;
    letter-spacing: 5px;
    margin-bottom: 20px;
    text-shadow: 0 0 30px rgba(0,0,0,0.3);
}

.glow-deal {
    font-family: 'Orbitron', sans-serif;
    font-size: 18px;
    letter-spacing: 2px;
    margin-bottom: 30px;
    background: rgba(0,0,0,0.2);
    padding: 15px 30px;
    border-radius: 30px;
}

.glow-tap {
    font-size: 14px;
    opacity: 0.7;
}

/* GALLERY */
.gallery-section {
    margin: 40px 0;
}

.section-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    text-align: center;
    margin-bottom: 20px;
    color: var(--pink);
    letter-spacing: 2px;
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
}

.gallery-img {
    width: 100%;
    aspect-ratio: 1;
    object-fit: cover;
    border-radius: 15px;
    border: 2px solid rgba(255, 0, 255, 0.2);
    transition: all 0.3s;
    cursor: pointer;
}

.gallery-img:hover {
    border-color: var(--pink);
    transform: scale(1.03);
}

/* FOOTER */
.game-footer {
    text-align: center;
    padding: 30px 20px;
    margin-top: 40px;
    border-top: 1px solid rgba(255, 0, 255, 0.2);
    color: #555;
    font-size: 11px;
}

.game-footer a {
    color: var(--pink);
    text-decoration: none;
}

.game-footer a:hover { text-decoration: underline; }

/* MODALS */
.modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.95);
    z-index: 3000;
    overflow-y: auto;
    padding: 60px 20px;
}

.modal-overlay.show { display: block; }

.modal-box {
    max-width: 500px;
    margin: 0 auto;
    background: var(--card-bg);
    border: 2px solid var(--pink);
    border-radius: 25px;
    padding: 35px;
    position: relative;
}

.modal-close {
    position: absolute;
    top: 15px;
    right: 20px;
    background: none;
    border: none;
    color: var(--pink);
    font-size: 28px;
    cursor: pointer;
    transition: 0.3s;
}

.modal-close:hover {
    transform: rotate(90deg);
    color: var(--cyan);
}

.modal-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    color: var(--pink);
    margin-bottom: 20px;
    letter-spacing: 2px;
}

.modal-text {
    font-size: 14px;
    line-height: 1.8;
    color: #ccc;
    margin-bottom: 15px;
}

.modal-text strong {
    color: #fff;
}

.modal-btn {
    width: 100%;
    margin-top: 20px;
}

/* GREEN LIGHT HOUR OVERLAY */
.green-hour-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 210, 106, 0.95);
    z-index: 4000;
    animation: flashGreen 0.5s ease-in-out 3;
}

.green-hour-overlay.show { display: flex; }

@keyframes flashGreen {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.green-hour-content {
    margin: auto;
    text-align: center;
    color: #000;
    padding: 30px;
}

.green-hour-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 3rem;
    letter-spacing: 5px;
    margin-bottom: 15px;
}

.green-hour-deal {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 20px;
}

.green-hour-timer {
    font-family: 'Orbitron', sans-serif;
    font-size: 2rem;
    margin-bottom: 20px;
}

/* RESPONSIVE */
@media (max-width: 600px) {
    .light-btn {
        width: 90px;
        height: 90px;
        font-size: 22px;
    }
    
    .traffic-lights { gap: 15px; }
    
    .game-lights-section { padding: 30px 20px; }
    
    .result-card { padding: 25px; }
    
    .header-btn span { display: none; }
    .header-btn { padding: 8px 12px; }
}

@media (max-width: 400px) {
    .light-btn {
        width: 80px;
        height: 80px;
        font-size: 18px;
    }
    
    .game-title { font-size: 2rem; }
}
    </style>
</head>
<body>

<!-- BACKGROUND -->
<div class="game-bg" id="gameBg"></div>
<div class="particles" id="particles"></div>

<!-- HEADER -->
<header class="game-header">
    <a href="https://flavorsdaiquiribar.com/" class="game-logo">
        <img src="https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/69301b7d0b0f9de1d1588a77.jpg" alt="Flavors">
        <span class="game-logo-text">GAMING</span>
    </a>
    <div class="header-actions">
        <button class="header-btn" onclick="openModal('howToPlay')">
            <i class="fas fa-gamepad"></i> <span>How to Play</span>
        </button>
        <button class="header-btn" onclick="openModal('rewards')">
            <i class="fas fa-gift"></i> <span>Rewards</span>
        </button>
        <a href="https://flavorsdaiquiribar.com/" class="back-link">
            <i class="fas fa-arrow-left"></i> Back
        </a>
    </div>
</header>

<!-- MAIN CONTENT -->
<main class="game-main">
    <!-- HERO -->
    <section class="game-hero">
        <h1 class="game-title">TRAFFIC LIGHT GAMING</h1>
        <p class="game-subtitle">Choose Your Status <i class="fas fa-circle" style="font-size:8px;margin:0 8px"></i> Win Your Destiny</p>
    </section>

    <!-- LIVE STATS -->
    <div class="live-stats-bar">
        <div class="stats-label">
            <i class="fas fa-signal"></i> LIVE STATS
        </div>
        <div class="stats-display">
            <div class="stat-item">
                <div class="stat-value red" id="statRed">18%</div>
                <div class="stat-label">Taken</div>
            </div>
            <div class="stat-item">
                <div class="stat-value amber" id="statAmber">27%</div>
                <div class="stat-label">Maybe</div>
            </div>
            <div class="stat-item">
                <div class="stat-value green" id="statGreen">55%</div>
                <div class="stat-label">Single</div>
            </div>
        </div>
    </div>

    <!-- GAME STEPS -->
    <div class="game-steps">
        <div class="step-card" onclick="openModal('stepChoose')">
            <div class="step-icon"><i class="fas fa-hand-pointer"></i></div>
            <div class="step-number">STEP 1</div>
            <div class="step-title">CHOOSE</div>
            <div class="step-desc">Pick Your Color</div>
        </div>
        <div class="step-card" onclick="openModal('stepWear')">
            <div class="step-icon"><i class="fas fa-id-badge"></i></div>
            <div class="step-number">STEP 2</div>
            <div class="step-title">WEAR</div>
            <div class="step-desc">Get Wristband</div>
        </div>
        <div class="step-card" onclick="openModal('stepSeen')">
            <div class="step-icon"><i class="fas fa-eye"></i></div>
            <div class="step-number">STEP 3</div>
            <div class="step-title">SEEN</div>
            <div class="step-desc">Be Discovered</div>
        </div>
        <div class="step-card" onclick="openModal('stepConnect')">
            <div class="step-icon"><i class="fas fa-heart"></i></div>
            <div class="step-number">STEP 4</div>
            <div class="step-title">CONNECT</div>
            <div class="step-desc">Make Memories</div>
        </div>
    </div>

    <!-- TRAFFIC LIGHTS GAME -->
    <section class="game-lights-section">
        <div class="lights-title">
            <i class="fas fa-bullseye"></i> TAP YOUR STATUS
        </div>
        <div class="traffic-lights">
            <div>
                <button class="light-btn light-red" id="lightRed" onclick="selectStatus('red')">
                    <i class="fas fa-heart"></i>
                </button>
                <span class="light-label">TAKEN</span>
            </div>
            <div>
                <button class="light-btn light-amber" id="lightAmber" onclick="selectStatus('amber')">
                    <i class="fas fa-question"></i>
                </button>
                <span class="light-label">MAYBE</span>
            </div>
            <div>
                <button class="light-btn light-green" id="lightGreen" onclick="selectStatus('green')">
                    <i class="fas fa-bolt"></i>
                </button>
                <span class="light-label">SINGLE</span>
            </div>
        </div>
        <div class="cooldown-notice" id="cooldownNotice">
            <i class="fas fa-clock"></i> Status locked for <span id="cooldownTime">30:00</span> - No switching!
        </div>
    </section>

    <!-- RESULT CARD -->
    <section class="result-card" id="resultCard">
        <div class="result-status" id="resultStatus"></div>
        <img class="result-image" id="resultImage" alt="Status">
        <p class="result-desc" id="resultDesc"></p>
        <div class="mission-box">
            <div class="mission-label">
                <i class="fas fa-crosshairs"></i> TONIGHT'S MISSION
            </div>
            <div class="mission-text" id="missionText"></div>
        </div>
        <div class="deal-badge" id="dealBadge"></div>
        <div class="action-buttons">
            <button class="action-btn btn-primary" id="ctaBtn" onclick="activateGlow()">
                <i class="fas fa-mobile-alt"></i> <span id="ctaText">ACTIVATE GLOW</span>
            </button>
            <button class="action-btn btn-whatsapp" id="shareBtn" style="display:none" onclick="shareWhatsApp()">
                <i class="fab fa-whatsapp"></i> TELL YOUR FRIENDS
            </button>
            <button class="action-btn btn-reset" onclick="resetGame()">
                <i class="fas fa-redo"></i> CHANGE STATUS
            </button>
        </div>
    </section>

    <!-- GALLERY -->
    <section class="gallery-section">
        <h2 class="section-title"><i class="fas fa-camera"></i> THE VIBE</h2>
        <div class="gallery-grid">
            <img class="gallery-img" src="https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/6956e351035c3a561b34c122.png" alt="Party vibe">
            <img class="gallery-img" src="https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/6956e351b831c460b18bbd11.png" alt="Party vibe">
            <img class="gallery-img" src="https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/6956e351035c3a064634c121.png" alt="Party vibe">
            <img class="gallery-img" src="https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/6956e3518f84956be408e0b5.png" alt="Party vibe">
        </div>
    </section>
</main>

<!-- FOOTER -->
<footer class="game-footer">
    <p>Flavors Gaming &bull; The Ultimate Traffic Light Experience</p>
    <p>Powered by <a href="https://exposuresolutions.ie">Exposure AI</a></p>
</footer>

<!-- SCREEN GLOW (Phone as beacon) -->
<div class="screen-glow" id="screenGlow" onclick="hideGlow()">
    <div class="glow-content">
        <div class="glow-status" id="glowStatus"></div>
        <div class="glow-deal" id="glowDeal"></div>
        <div class="glow-tap">Tap anywhere to exit</div>
    </div>
</div>

<!-- MODALS -->
<div class="modal-overlay" id="modalHowToPlay">
    <div class="modal-box">
        <button class="modal-close" onclick="closeModal('howToPlay')">&times;</button>
        <h2 class="modal-title"><i class="fas fa-gamepad"></i> How to Play</h2>
        <p class="modal-text">The Traffic Light Game is simple but unforgettable:</p>
        <p class="modal-text"><strong><i class="fas fa-hand-pointer" style="color:var(--cyan)"></i> STEP 1:</strong> Choose your status - Red (Taken), Amber (Complicated), or Green (Single)</p>
        <p class="modal-text"><strong><i class="fas fa-id-badge" style="color:var(--cyan)"></i> STEP 2:</strong> Show your glowing screen at the bar to get your wristband</p>
        <p class="modal-text"><strong><i class="fas fa-eye" style="color:var(--cyan)"></i> STEP 3:</strong> People see your color and know your status instantly</p>
        <p class="modal-text"><strong><i class="fas fa-heart" style="color:var(--cyan)"></i> STEP 4:</strong> Complete your mission and make memories!</p>
        <button class="action-btn btn-primary modal-btn" onclick="closeModal('howToPlay')">
            <i class="fas fa-check"></i> GOT IT
        </button>
    </div>
</div>

<div class="modal-overlay" id="modalRewards">
    <div class="modal-box">
        <button class="modal-close" onclick="closeModal('rewards')">&times;</button>
        <h2 class="modal-title"><i class="fas fa-gift"></i> Rewards & Deals</h2>
        <p class="modal-text"><strong style="color:var(--red)"><i class="fas fa-heart"></i> RED (TAKEN)</strong><br>The Bodyguard Package: 2-for-1 shots! Celebrate your relationship while you party.</p>
        <p class="modal-text"><strong style="color:var(--amber)"><i class="fas fa-question"></i> AMBER (COMPLICATED)</strong><br>Social Hour: €5 frozen daiquiris! Be the wingman and earn free shots.</p>
        <p class="modal-text"><strong style="color:var(--green)"><i class="fas fa-bolt"></i> GREEN (SINGLE)</strong><br>Free shot with your wristband! Plus exclusive Green Light Hour deals.</p>
        <button class="action-btn btn-primary modal-btn" onclick="closeModal('rewards')">
            <i class="fas fa-check"></i> PLAY NOW
        </button>
    </div>
</div>

<div class="modal-overlay" id="modalStepChoose">
    <div class="modal-box">
        <button class="modal-close" onclick="closeModal('stepChoose')">&times;</button>
        <h2 class="modal-title">Step 1: Choose Your Color</h2>
        <p class="modal-text"><strong style="color:var(--red)"><i class="fas fa-circle"></i> RED = TAKEN</strong><br>You're in a relationship but ready to party with your partner!</p>
        <p class="modal-text"><strong style="color:var(--amber)"><i class="fas fa-circle"></i> AMBER = COMPLICATED</strong><br>Keeping your options open. Be the social butterfly tonight.</p>
        <p class="modal-text"><strong style="color:var(--green)"><i class="fas fa-circle"></i> GREEN = SINGLE</strong><br>Single and ready to mingle! Tonight could be legendary.</p>
        <p class="modal-text">Everyone will see your status. No guessing games!</p>
        <button class="action-btn btn-primary modal-btn" onclick="closeModal('stepChoose')">
            <i class="fas fa-arrow-right"></i> NEXT
        </button>
    </div>
</div>

<div class="modal-overlay" id="modalStepWear">
    <div class="modal-box">
        <button class="modal-close" onclick="closeModal('stepWear')">&times;</button>
        <h2 class="modal-title">Step 2: Get Your Wristband</h2>
        <p class="modal-text">Once you've chosen your status, <strong>show your glowing phone screen</strong> at the bar.</p>
        <p class="modal-text">Our staff will give you a matching wristband. It's your VIP pass to exclusive deals all night!</p>
        <p class="modal-text">Pro tip: Your phone screen becomes your beacon - hold it up on the dance floor!</p>
        <button class="action-btn btn-primary modal-btn" onclick="closeModal('stepWear')">
            <i class="fas fa-arrow-right"></i> NEXT
        </button>
    </div>
</div>

<div class="modal-overlay" id="modalStepSeen">
    <div class="modal-box">
        <button class="modal-close" onclick="closeModal('stepSeen')">&times;</button>
        <h2 class="modal-title">Step 3: Get Discovered</h2>
        <p class="modal-text">Your color is your signal. No awkward conversations about whether someone is available.</p>
        <p class="modal-text"><strong>Green sees Green?</strong> That's your opening! Go say hi.</p>
        <p class="modal-text"><strong>See Red?</strong> Respect the status - they're here with someone.</p>
        <p class="modal-text">The system does the hard work so you can focus on having fun!</p>
        <button class="action-btn btn-primary modal-btn" onclick="closeModal('stepSeen')">
            <i class="fas fa-arrow-right"></i> NEXT
        </button>
    </div>
</div>

<div class="modal-overlay" id="modalStepConnect">
    <div class="modal-box">
        <button class="modal-close" onclick="closeModal('stepConnect')">&times;</button>
        <h2 class="modal-title">Step 4: Make Memories</h2>
        <p class="modal-text">Complete your mission for bonus rewards!</p>
        <p class="modal-text"><strong style="color:var(--red)">Red Mission:</strong> Buy your partner a drink & take a couples shot!</p>
        <p class="modal-text"><strong style="color:var(--amber)">Amber Mission:</strong> Be the wingman - introduce two Greens and earn a free shot!</p>
        <p class="modal-text"><strong style="color:var(--green)">Green Mission:</strong> Dance with a stranger & exchange numbers!</p>
        <button class="action-btn btn-primary modal-btn" onclick="closeModal('stepConnect')">
            <i class="fas fa-check"></i> LET'S GO
        </button>
    </div>
</div>

<script>
// Game Data
const gameData = {
    red: {
        title: 'TAKEN',
        icon: 'fas fa-heart',
        color: 'var(--red)',
        glowClass: 'glow-red',
        glazeClass: 'glaze-red',
        image: 'https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/6956e3518f8495fcfb08e0b6.png',
        desc: "You're off the market but here to PARTY! Rock that red and show the world you're taken but not tamed. Your partner is lucky!",
        mission: 'Buy your partner a drink & take a couples shot together!',
        deal: '2-FOR-1 SHOTS',
        dealFull: 'COUPLES DEAL: 2-FOR-1 SHOTS'
    },
    amber: {
        title: 'COMPLICATED',
        icon: 'fas fa-question',
        color: 'var(--amber)',
        glowClass: 'glow-amber',
        glazeClass: 'glaze-amber',
        image: 'https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/6956e35174830368b58b6e3e.png',
        desc: "It's complicated? We get it. You're the social butterfly tonight - open to conversation but not committing. Let the night decide!",
        mission: 'Be the wingman! Introduce two Greens and earn a free shot!',
        deal: '€5 DAIQUIRIS',
        dealFull: 'SOCIAL HOUR: €5 DAIQUIRIS'
    },
    green: {
        title: 'SINGLE & READY',
        icon: 'fas fa-bolt',
        color: 'var(--green)',
        glowClass: 'glow-green',
        glazeClass: 'glaze-green',
        image: 'https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/6956e35174830371648b6e3d.png',
        desc: "GREEN MEANS GO! You're single, ready to mingle, and tonight could be legendary. Show that green with pride!",
        mission: 'Dance with a stranger & exchange numbers!',
        deal: 'FREE SHOT',
        dealFull: 'SINGLES: FREE SHOT WITH WRISTBAND',
        hasShare: true
    }
};

let currentStatus = null;
let cooldownEnd = null;

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    createParticles();
    loadSavedStatus();
    updateLiveStats();
    setInterval(updateLiveStats, 10000);
});

// Create particles
function createParticles() {
    const container = document.getElementById('particles');
    for (let i = 0; i < 25; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + 'vw';
        particle.style.animationDelay = Math.random() * 15 + 's';
        particle.style.animationDuration = (12 + Math.random() * 8) + 's';
        container.appendChild(particle);
    }
}

// Update live stats (simulated)
function updateLiveStats() {
    const red = 15 + Math.floor(Math.random() * 10);
    const amber = 20 + Math.floor(Math.random() * 15);
    const green = 100 - red - amber;
    
    document.getElementById('statRed').textContent = red + '%';
    document.getElementById('statAmber').textContent = amber + '%';
    document.getElementById('statGreen').textContent = green + '%';
}

// Load saved status from localStorage
function loadSavedStatus() {
    const saved = localStorage.getItem('flavorsStatus');
    const savedTime = localStorage.getItem('flavorsStatusTime');
    
    if (saved && savedTime) {
        const timePassed = Date.now() - parseInt(savedTime);
        const cooldownMs = 30 * 60 * 1000; // 30 minutes
        
        if (timePassed < cooldownMs) {
            currentStatus = saved;
            cooldownEnd = parseInt(savedTime) + cooldownMs;
            showResult(saved, false);
            startCooldownTimer();
        } else {
            localStorage.removeItem('flavorsStatus');
            localStorage.removeItem('flavorsStatusTime');
        }
    }
}

// Select status
function selectStatus(status) {
    if (currentStatus && cooldownEnd && Date.now() < cooldownEnd) {
        return; // Still in cooldown
    }
    
    currentStatus = status;
    localStorage.setItem('flavorsStatus', status);
    localStorage.setItem('flavorsStatusTime', Date.now().toString());
    cooldownEnd = Date.now() + (30 * 60 * 1000);
    
    showResult(status, true);
    startCooldownTimer();
}

// Show result
function showResult(status, animate) {
    const data = gameData[status];
    const bg = document.getElementById('gameBg');
    
    // Update background glaze
    bg.className = 'game-bg ' + data.glazeClass;
    
    // Update lights
    ['red', 'amber', 'green'].forEach(s => {
        const btn = document.getElementById('light' + s.charAt(0).toUpperCase() + s.slice(1));
        if (s === status) {
            btn.classList.add('active');
            btn.classList.remove('disabled');
        } else {
            btn.classList.add('disabled');
            btn.classList.remove('active');
        }
    });
    
    // Update result card
    document.getElementById('resultStatus').innerHTML = '<i class="' + data.icon + '"></i> ' + data.title;
    document.getElementById('resultStatus').style.color = data.color;
    document.getElementById('resultImage').src = data.image;
    document.getElementById('resultDesc').textContent = data.desc;
    document.getElementById('missionText').textContent = data.mission;
    document.getElementById('dealBadge').textContent = data.dealFull;
    
    // Show/hide share button
    document.getElementById('shareBtn').style.display = data.hasShare ? 'flex' : 'none';
    
    // Show result card
    const card = document.getElementById('resultCard');
    card.classList.add('show');
    
    if (animate) {
        setTimeout(() => {
            card.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 300);
    }
}

// Start cooldown timer
function startCooldownTimer() {
    const notice = document.getElementById('cooldownNotice');
    const timerEl = document.getElementById('cooldownTime');
    notice.classList.add('show');
    
    const updateTimer = () => {
        if (!cooldownEnd) return;
        
        const remaining = cooldownEnd - Date.now();
        if (remaining <= 0) {
            notice.classList.remove('show');
            return;
        }
        
        const mins = Math.floor(remaining / 60000);
        const secs = Math.floor((remaining % 60000) / 1000);
        timerEl.textContent = mins + ':' + secs.toString().padStart(2, '0');
        
        setTimeout(updateTimer, 1000);
    };
    
    updateTimer();
}

// Activate glow (phone as beacon)
function activateGlow() {
    if (!currentStatus) return;
    
    const data = gameData[currentStatus];
    const glow = document.getElementById('screenGlow');
    
    glow.className = 'screen-glow show ' + data.glowClass;
    document.getElementById('glowStatus').textContent = data.title;
    document.getElementById('glowDeal').innerHTML = '<i class="fas fa-tag"></i> ' + data.deal;
    
    // Try to set max brightness (not always possible)
    if (navigator.wakeLock) {
        navigator.wakeLock.request('screen').catch(() => {});
    }
}

// Hide glow
function hideGlow() {
    document.getElementById('screenGlow').classList.remove('show');
}

// Reset game
function resetGame() {
    // Only allow reset after cooldown
    if (cooldownEnd && Date.now() < cooldownEnd) {
        alert('You can change your status in ' + Math.ceil((cooldownEnd - Date.now()) / 60000) + ' minutes!');
        return;
    }
    
    currentStatus = null;
    cooldownEnd = null;
    localStorage.removeItem('flavorsStatus');
    localStorage.removeItem('flavorsStatusTime');
    
    document.getElementById('gameBg').className = 'game-bg';
    document.getElementById('resultCard').classList.remove('show');
    document.getElementById('cooldownNotice').classList.remove('show');
    
    ['red', 'amber', 'green'].forEach(s => {
        const btn = document.getElementById('light' + s.charAt(0).toUpperCase() + s.slice(1));
        btn.classList.remove('active', 'disabled');
    });
    
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Share on WhatsApp
function shareWhatsApp() {
    const text = "I'm GREEN at Flavors Traffic Light Party! ?? Come find me!";
    window.open('https://wa.me/?text=' + encodeURIComponent(text), '_blank');
}

// Modal functions
function openModal(type) {
    const modalId = 'modal' + type.charAt(0).toUpperCase() + type.slice(1);
    document.getElementById(modalId).classList.add('show');
    document.body.style.overflow = 'hidden';
}

function closeModal(type) {
    const modalId = 'modal' + type.charAt(0).toUpperCase() + type.slice(1);
    document.getElementById(modalId).classList.remove('show');
    document.body.style.overflow = '';
}

// Close modal on escape
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.show').forEach(m => m.classList.remove('show'));
        document.body.style.overflow = '';
    }
});
</script>

</body>
</html>
